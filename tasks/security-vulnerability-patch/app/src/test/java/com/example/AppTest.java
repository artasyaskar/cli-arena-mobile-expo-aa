package com.example;

import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

public class AppTest {

    @Test
    public void testGetGreeting() {
        App app = new App();
        assertEquals("Hello, World!", app.getGreeting(), "The greeting should be 'Hello, World!'");
    }

    @Test
    public void testLoggingBehavior() {
        // Capture standard output
        PrintStream originalOut = System.out;
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        System.setOut(new PrintStream(bos));

        // Run the main method, which should produce logs
        App.main(new String[]{});

        // Restore standard output
        System.setOut(originalOut);

        // Verify the log output
        String logOutput = bos.toString();
        assertTrue(logOutput.contains("Application starting..."), "Log should contain the starting message.");
        assertTrue(logOutput.contains("Greeting method called"), "Log should contain the greeting method message.");
        assertTrue(logOutput.contains("Application finished."), "Log should contain the finished message.");
    }
}
